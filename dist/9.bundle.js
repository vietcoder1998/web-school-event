(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{122:function(e,t,a){"use strict";a.r(t);var i=a(4),n=a.n(i),l=a(61),s=a(39),r=a(6),c=a(5),o=a(7),m=a(3),d=a(16),p=a(8),u=a(40);class g extends i.PureComponent{constructor(e){super(e),this.state={loading:!0,title:"",content:"",imageUrl:"",id:null}}async componentDidMount(){await this.setState({title:this.props.title,content:this.props.summary,id:this.props.id,imageUrl:null===this.props.imageUrl?d.a:this.props.imageUrl,loading:!1})}render(){return n.a.createElement(p.Link,{to:`/chi-tiet-bai-viet/${window.btoa(this.state.id)}`},n.a.createElement(s.Skeleton,{avatar:!0,paragraph:{rows:2},active:!0,loading:this.state.loading},n.a.createElement("div",{className:"card1"},n.a.createElement(u.LazyLoadImage,{className:"img-card",src:this.state.imageUrl,alt:"info"}),n.a.createElement("div",{className:"info-card"},n.a.createElement("div",{className:"title"},this.state.title),n.a.createElement("div",{className:"summary"},this.state.content)))))}}var h=a(69),y=a(75);function E(){return(E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(e[i]=a[i])}return e}).apply(this,arguments)}class v extends i.PureComponent{constructor(e){super(e),this.state={listArticleData:[],pageIndex:0,pageSize:10,loading:!0},this.carousel=n.a.createRef(),this.next=this.next.bind(this),this.previous=this.previous.bind(this)}next(){this.carousel.next()}previous(){this.carousel.prev()}componentDidMount(){this.getListArticle(0,5)}async getListArticle(e,t=5){let a={adminID:null,hidden:null,createdDate:null,announcementTypeID:null};"all"===this.props.idType?a.announcementTypeID=null:a.announcementTypeID=this.props.idType;let i=await Object(r.a)(c.c,a,o.a.LIST+`?pageIndex=${e}&pageSize=${t}`,m.b,{pageIndex:e,pageSize:t},!1);try{this.setState({listArticleData:i.data.items,loading:!1})}catch(e){}}render(){return n.a.createElement(n.a.Fragment,null,n.a.createElement(s.Col,{sm:24,md:24,lg:16,xl:16,xxl:16},n.a.createElement(h.a,{title:"Bài viết hay"}),n.a.createElement(s.Carousel,E({dots:!0,autoplay:!0,autoplaySpeed:3e3},{dots:!0,infinite:!0,slidesToShow:1,slidesToScroll:1}),this.state.listArticleData.map((e,t)=>n.a.createElement("div",{key:t},n.a.createElement(g,{id:e.id,title:e.title,imageUrl:e.imageUrl,summary:e.previewContent}))))),n.a.createElement(s.Col,{xs:24,sm:12,md:12,lg:7,xl:7,xxl:7},n.a.createElement(y.a,null)))}}var b=v,x=a(72),w=a(2);class f extends i.PureComponent{constructor(e){super(e),this.state={loading:!0,listArticleData:[],pageIndex:0,pageSize:5}}componentDidMount(){this.getListArticle(this.props.type.id)}async getListArticle(e){let t={adminID:null,hidden:null,createdDate:null,announcementTypeID:e};await Object(r.a)(c.c,t,o.a.LIST+"?pageIndex=0&pageSize=5",m.b,w.c,void 0,!1,!1,!0).then(e=>{if(e&&e.data&&e.data.items){let{listArticleData:t}=this.state;t=e.data.items,this.setState({listArticleData:t,loading:!1})}})}render(){let{listArticleData:e,loading:t}=this.state;return t?n.a.createElement(s.Skeleton,null):n.a.createElement(s.Skeleton,{avatar:!0,loading:t},e&&e.length>0?n.a.createElement(s.Col,{xs:24,sm:10,md:12,lg:8,xl:8,xxl:6},n.a.createElement(h.a,{title:this.props.type.name}),e.map((e,t)=>t<4?n.a.createElement(x.a,{key:e.id,id:e.id,title:e.title,imageUrl:e.imageUrl,summary:e.previewContent,rating:e.averageRating,date:e.createdDate}):"")):void 0)}}const{TabPane:D}=s.Tabs;class T extends n.a.Component{constructor(e){super(e),function(e,t,a){t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a}(this,"callback",e=>{this.props.history.push(`/bai-viet/${e}`)}),this.state={loading:!0,idType:null,listType:[]}}componentDidMount(){this.getListTypeArticle(),console.log(this.props)}async getListTypeArticle(){await Object(r.a)(c.b,null,o.a.TYPE,m.b,{pageIndex:0,pageSize:50,priority:""},!1).then(e=>{this.setState({listType:e.data.items})})}render(){let{listType:e}=this.state,{match:t}=this.props;return n.a.createElement(l.a,{disableFooterData:!0},n.a.createElement(n.a.Fragment,null,n.a.createElement(s.Affix,{offsetTop:0,children:n.a.createElement(s.Tabs,{defaultActiveKey:"1",onChange:this.callback,style:{backgroundColor:"white",marginBottom:0,textAlign:"center",width:"100%",fontWeight:500}},n.a.createElement(D,{tab:"Tất cả",key:"all"}),e&&e.length>0?e.map(e=>n.a.createElement(D,{disabled:!0,tab:e.name,key:e.id})):void 0)}),n.a.createElement(s.Row,{className:"content-an"},n.a.createElement(s.Col,{xs:24,sm:24,lg:23,xl:22,xxl:22},n.a.createElement("div",{className:"Article"},n.a.createElement(s.Row,{className:"head-an"},n.a.createElement(b,{idType:this.props.match.params.id})),n.a.createElement(s.Row,{className:"l-middle"},e&&e.length>0?e.map((e,a)=>n.a.createElement(f,{key:e.id,type:e,idType:t.params.id})):""))))))}}t.default=T},63:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));const i=e=>{var t=new Date(e);return t.getDate()+"/"+(t.getMonth()+1)+"/"+t.getFullYear()}},69:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var i=a(4),n=a.n(i),l=a(65);function s(e){return n.a.createElement("div",{className:"text-inner"},n.a.createElement("p",null,Object(l.a)(e.title,50)))}},72:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var i=a(4),n=a.n(i),l=a(39),s=a(16),r=a(63),c=a(40);class o extends i.PureComponent{constructor(e){super(e),this.state={loading:!0,title:"",content:"",imageUrl:"",id:null,rating:0,date:0}}async componentDidMount(){await this.setState({title:this.props.title,content:this.props.summary,id:this.props.id,rating:this.props.rating,date:Object(r.a)(this.props.date),imageUrl:null===this.props.imageUrl?s.a:this.props.imageUrl,loading:!1})}render(){let{content:e,rating:t,imageUrl:a,title:i,id:s,loading:r,date:o}=this.state;return(n.a.createElement("div",null,n.a.createElement(l.Skeleton,{avatar:!0,paragraph:{rows:2},active:!0,loading:r},n.a.createElement(l.Row,{className:"card2",onClick:()=>window.location.assign(`/chi-tiet-bai-viet/${window.btoa(s)}`)},n.a.createElement(l.Col,{className:"a_c",xs:9,sm:10,md:10,lg:10,xl:10,xxl:10},n.a.createElement(c.LazyLoadImage,{className:"img-card",src:a,alt:i})),n.a.createElement(l.Col,{className:"ct-article",xs:13,sm:13,md:13,lg:13,xl:13,xxl:14},n.a.createElement("div",{className:"title-article"},i),n.a.createElement("div",{className:"summary"},e),n.a.createElement("div",{className:"info"},n.a.createElement("p",null,n.a.createElement(l.Icon,{type:"calendar"})," ",o),n.a.createElement(l.Rate,{disabled:!0,value:t,style:{fontSize:"0.8rem"}})))))))}}},75:function(e,t,a){"use strict";var i=a(4),n=a.n(i),l=a(6),s=a(7),r=a(3),c=a(69),o=a(39),m=a(16),d=a(8),p=a(63);class u extends i.PureComponent{constructor(e){super(e),this.state={loading:!0,title:"",content:"",imageUrl:"",id:null,rating:0,date:0}}async componentDidMount(){await this.setState({title:this.props.title,content:this.props.summary,id:this.props.id,rating:this.props.rating,date:Object(p.a)(this.props.date),imageUrl:null===this.props.imageUrl?m.a:this.props.imageUrl,loading:!1})}render(){return n.a.createElement(d.Link,{to:`/chi-tiet-bai-viet/${window.btoa(this.state.id)}`},n.a.createElement(o.Skeleton,{avatar:!0,paragraph:{rows:2},active:!0,loading:this.state.loading},n.a.createElement("div",{className:"card3"},n.a.createElement("img",{className:"img-card",src:this.state.imageUrl,alt:"article"}),n.a.createElement("div",{className:"info"},n.a.createElement("div",{className:"title-article"},this.state.title),n.a.createElement("div",{className:"summary"},this.state.content)),n.a.createElement("div",{className:"info"},n.a.createElement("div",null,n.a.createElement(o.Icon,{type:"calendar"})," ",this.state.date),n.a.createElement("div",null,n.a.createElement(o.Rate,{allowHalf:!0,disabled:!0,value:this.state.rating}))))))}}var g,h,y,E=a(72),v=a(5);class b extends i.PureComponent{constructor(e){super(e),this.state={listArticleData:[],pageIndex:0,pageSize:10,loading:!0}}componentDidMount(){this.getListArticle(0,5)}async getListArticle(e=0,t=5){let a={adminID:null,hidden:null,createdDate:null,announcementTypeID:null};"all"===this.props.idType?a.announcementTypeID=null:a.announcementTypeID=this.props.idType,await Object(l.a)(v.c,a,s.a.LIST+`?sortBy=a.viewNumber&sortType=desc&pageIndex=0&pageSize=${t}`,r.b,{pageIndex:e,pageSize:t},!1).then(e=>{e&&this.setState({listArticleData:e.data.items,loading:!1})})}render(){let{listArticleData:e}=this.state;return this.state.loading?n.a.createElement("div",null,"loading ....."):n.a.createElement("div",{className:"good-article"},n.a.createElement(c.a,{title:"Nhiều người đọc"}),e.map((e,t)=>n.a.createElement("div",{key:t,style:{display:0===t?"none":"",marginTop:20}},2===this.props.cardType&&n.a.createElement(E.a,{id:e.id,title:e.title,imageUrl:e.imageUrl,summary:e.previewContent,rating:e.averageRating,date:e.createdDate}),3===this.props.cardType&&n.a.createElement(u,{id:e.id,title:e.title,imageUrl:e.imageUrl,summary:e.previewContent,rating:e.averageRating,date:e.createdDate}))))}}y={cardType:2},(h="defaultProps")in(g=b)?Object.defineProperty(g,h,{value:y,enumerable:!0,configurable:!0,writable:!0}):g[h]=y;t.a=b}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvdmlldy9hcnRpY2xlL2NvbXBvbmVudC9DYXJkMS50c3giLCJ3ZWJwYWNrOi8vLy4vc3JjL3ZpZXcvYXJ0aWNsZS9IZWFkL0hlYWRlckFydGljbGUudHN4Iiwid2VicGFjazovLy8uL3NyYy92aWV3L2FydGljbGUvbWlkZGxlL0xpc3RNaWRsZS50c3giLCJ3ZWJwYWNrOi8vLy4vc3JjL3ZpZXcvYXJ0aWNsZS9pbmRleC50c3giLCJ3ZWJwYWNrOi8vLy4vc3JjL3V0aWxzL2NvbnZlcnRUaW1lLmpzIiwid2VicGFjazovLy8uL3NyYy92aWV3L2FydGljbGUvY29tcG9uZW50L1RpdGxlLnRzeCIsIndlYnBhY2s6Ly8vLi9zcmMvdmlldy9hcnRpY2xlL2NvbXBvbmVudC9DYXJkMi50c3giLCJ3ZWJwYWNrOi8vLy4vc3JjL3ZpZXcvYXJ0aWNsZS9jb21wb25lbnQvQ2FyZDMudHN4Iiwid2VicGFjazovLy8uL3NyYy92aWV3L2FydGljbGUvY29tcG9uZW50L0dvb2RBcnRpY2xlLnRzeCJdLCJuYW1lcyI6WyJDYXJkMSIsIlB1cmVDb21wb25lbnQiLCJjb25zdHJ1Y3RvciIsInByb3BzIiwic3VwZXIiLCJ0aGlzIiwic3RhdGUiLCJsb2FkaW5nIiwidGl0bGUiLCJjb250ZW50IiwiaW1hZ2VVcmwiLCJpZCIsInNldFN0YXRlIiwic3VtbWFyeSIsIkRlZmF1bHRJbWFnZSIsInJlbmRlciIsInRvIiwid2luZG93IiwiYnRvYSIsImF2YXRhciIsInBhcmFncmFwaCIsInJvd3MiLCJhY3RpdmUiLCJjbGFzc05hbWUiLCJzcmMiLCJhbHQiLCJIZWFkZXJBcnRpY2xlIiwibGlzdEFydGljbGVEYXRhIiwicGFnZUluZGV4IiwicGFnZVNpemUiLCJjYXJvdXNlbCIsIlJlYWN0IiwiY3JlYXRlUmVmIiwibmV4dCIsImJpbmQiLCJwcmV2aW91cyIsInByZXYiLCJjb21wb25lbnREaWRNb3VudCIsImdldExpc3RBcnRpY2xlIiwiYm9keSIsImFkbWluSUQiLCJoaWRkZW4iLCJjcmVhdGVkRGF0ZSIsImFubm91bmNlbWVudFR5cGVJRCIsImlkVHlwZSIsInJlcyIsIl9yZXF1ZXN0VG9TZXJ2ZXIiLCJQT1NUIiwiQU5OT1VOQ0VNRU5UUyIsIkxJU1QiLCJQVUJMSUNfSE9TVCIsImRhdGEiLCJpdGVtcyIsImUiLCJzbSIsIm1kIiwibGciLCJ4bCIsInh4bCIsIlRpdGxlIiwiZG90cyIsImF1dG9wbGF5IiwiYXV0b3BsYXlTcGVlZCIsImluZmluaXRlIiwic2xpZGVzVG9TaG93Iiwic2xpZGVzVG9TY3JvbGwiLCJtYXAiLCJpdGVtIiwiaW5kZXgiLCJrZXkiLCJwcmV2aWV3Q29udGVudCIsInhzIiwiR29vZEFydGljbGUiLCJMaXN0TWlkZGxlIiwidHlwZSIsIm5vSW5mb0hlYWRlciIsInVuZGVmaW5lZCIsInRoZW4iLCJsZW5ndGgiLCJuYW1lIiwiQ2FyZDIiLCJyYXRpbmciLCJhdmVyYWdlUmF0aW5nIiwiZGF0ZSIsIlRhYlBhbmUiLCJUYWJzIiwiQXJ0aWNsZSIsIkNvbXBvbmVudCIsImhpc3RvcnkiLCJwdXNoIiwibGlzdFR5cGUiLCJnZXRMaXN0VHlwZUFydGljbGUiLCJjb25zb2xlIiwibG9nIiwiR0VUIiwiVFlQRSIsInByaW9yaXR5IiwibWF0Y2giLCJMYXlvdXQiLCJkaXNhYmxlRm9vdGVyRGF0YSIsIm9mZnNldFRvcCIsImNoaWxkcmVuIiwiZGVmYXVsdEFjdGl2ZUtleSIsIm9uQ2hhbmdlIiwiY2FsbGJhY2siLCJzdHlsZSIsImJhY2tncm91bmRDb2xvciIsIm1hcmdpbkJvdHRvbSIsInRleHRBbGlnbiIsIndpZHRoIiwiZm9udFdlaWdodCIsInRhYiIsImRpc2FibGVkIiwicGFyYW1zIiwiaSIsInRpbWVDb252ZXJ0ZXIiLCJkYXRlUmF3IiwiRGF0ZSIsImdldERhdGUiLCJnZXRNb250aCIsImdldEZ1bGxZZWFyIiwibGltaXRTdHJpbmciLCJvbkNsaWNrIiwibG9jYXRpb24iLCJhc3NpZ24iLCJ2YWx1ZSIsImZvbnRTaXplIiwiQ2FyZDMi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LHNCQVpSM0QsRyxzRkFpR1NBIiwiZmlsZSI6IjkuYnVuZGxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7IFB1cmVDb21wb25lbnQgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IFNrZWxldG9uLH0gZnJvbSBcImFudGRcIjtcbi8vQHRzLWlnbm9yZVxuaW1wb3J0IERlZmF1bHRJbWFnZSBmcm9tIFwiLi4vLi4vLi4vYXNzZXRzL2ltYWdlL2Jhc2UtaW1hZ2UuanBnXCI7XG5pbXBvcnQgeyBMaW5rIH0gZnJvbSBcInJlYWN0LXJvdXRlci1kb21cIjtcbi8vIGltcG9ydCBcIi4vQ2FyZC5zY3NzXCI7XG5pbXBvcnQgeyBMYXp5TG9hZEltYWdlIH0gZnJvbSAncmVhY3QtbGF6eS1sb2FkLWltYWdlLWNvbXBvbmVudCc7XG5cbmludGVyZmFjZSBJUHJvcHMge1xuICBpZD86IHN0cmluZztcbiAgc3VtbWFyeT86IHN0cmluZztcbiAgdGl0bGU/OiBzdHJpbmc7XG4gIGltYWdlVXJsPzogc3RyaW5nO1xufVxuaW50ZXJmYWNlIElTdGF0ZSB7XG4gIGxvYWRpbmc/OiBib29sZWFuO1xuICB0aXRsZT86IHN0cmluZztcbiAgY29udGVudD86IHN0cmluZztcbiAgaW1hZ2VVcmw/OiBzdHJpbmc7XG4gIGlkPzogc3RyaW5nO1xufVxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2FyZDEgZXh0ZW5kcyBQdXJlQ29tcG9uZW50PElQcm9wcywgSVN0YXRlPiB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBsb2FkaW5nOiB0cnVlLFxuICAgICAgdGl0bGU6IFwiXCIsXG4gICAgICBjb250ZW50OiBcIlwiLFxuICAgICAgaW1hZ2VVcmw6IFwiXCIsXG4gICAgICBpZDogbnVsbCxcbiAgICB9O1xuICB9XG5cbiAgYXN5bmMgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgYXdhaXQgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICB0aXRsZTogdGhpcy5wcm9wcy50aXRsZSxcbiAgICAgIGNvbnRlbnQ6IHRoaXMucHJvcHMuc3VtbWFyeSxcbiAgICAgIGlkOiB0aGlzLnByb3BzLmlkLFxuICAgICAgaW1hZ2VVcmw6IHRoaXMucHJvcHMuaW1hZ2VVcmwgPT09IG51bGwgPyBEZWZhdWx0SW1hZ2UgOiB0aGlzLnByb3BzLmltYWdlVXJsLFxuICAgICAgbG9hZGluZzogZmFsc2UsXG4gICAgfSk7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxMaW5rIHRvPXtgL2NoaS10aWV0LWJhaS12aWV0LyR7d2luZG93LmJ0b2EodGhpcy5zdGF0ZS5pZCl9YH0+XG4gICAgICAgIDxTa2VsZXRvblxuICAgICAgICAgIGF2YXRhclxuICAgICAgICAgIHBhcmFncmFwaD17eyByb3dzOiAyIH19XG4gICAgICAgICAgYWN0aXZlXG4gICAgICAgICAgbG9hZGluZz17dGhpcy5zdGF0ZS5sb2FkaW5nfVxuICAgICAgICA+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjYXJkMVwiPlxuICAgICAgICAgICAgPExhenlMb2FkSW1hZ2VcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiaW1nLWNhcmRcIlxuICAgICAgICAgICAgICBzcmM9e3RoaXMuc3RhdGUuaW1hZ2VVcmx9XG4gICAgICAgICAgICAgIGFsdD1cImluZm9cIlxuICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaW5mby1jYXJkXCI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGl0bGVcIj57dGhpcy5zdGF0ZS50aXRsZX08L2Rpdj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzdW1tYXJ5XCI+e3RoaXMuc3RhdGUuY29udGVudH08L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L1NrZWxldG9uPlxuICAgICAgPC9MaW5rPlxuICAgICk7XG4gIH1cbn1cbiIsImltcG9ydCBSZWFjdCwgeyBQdXJlQ29tcG9uZW50IH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBDb2wsIENhcm91c2VsfSBmcm9tIFwiYW50ZFwiO1xuXG5pbXBvcnQgeyBfcmVxdWVzdFRvU2VydmVyIH0gZnJvbSBcIi4uLy4uLy4uL3NlcnZpY2VzL2V4ZWNcIjtcbmltcG9ydCB7IFBPU1QgfSBmcm9tIFwiLi4vLi4vLi4vY29uc3QvbWV0aG9kXCI7XG5pbXBvcnQgeyBBTk5PVU5DRU1FTlRTIH0gZnJvbSBcIi4uLy4uLy4uL3NlcnZpY2VzL2FwaS9wdWJsaWMuYXBpXCI7XG5pbXBvcnQgeyBQVUJMSUNfSE9TVCB9IGZyb20gXCIuLi8uLi8uLi9lbnZpcm9ubWVudC9kZXZlbG9wbWVudFwiO1xuXG5pbXBvcnQgQ2FyZDEgZnJvbSBcIi4uL2NvbXBvbmVudC9DYXJkMVwiO1xuLy8gaW1wb3J0IENhcmQyIGZyb20gXCIuLi9jb21wb25lbnQvQ2FyZDJcIjtcbmltcG9ydCBUaXRsZSBmcm9tIFwiLi4vY29tcG9uZW50L1RpdGxlXCI7XG5cbi8vIGltcG9ydCBIYXNoTG9hZGVyIGZyb20gXCJyZWFjdC1zcGlubmVycy9IYXNoTG9hZGVyXCI7XG5pbXBvcnQgR29vZEFydGljbGUgZnJvbSBcIi4uL2NvbXBvbmVudC9Hb29kQXJ0aWNsZVwiO1xuaW50ZXJmYWNlIElQcm9wcyB7XG4gIGlkVHlwZT86IGFueTtcbn1cbmludGVyZmFjZSBJU3RhdGUge1xuICBsaXN0QXJ0aWNsZURhdGE/OiBhbnk7XG4gIGJvZHk/OiBhbnk7XG4gIGxvYWRpbmc/OiBib29sZWFuO1xuICBwYWdlSW5kZXg/OiBhbnk7XG4gIHBhZ2VTaXplPzogYW55O1xufVxuXG5jbGFzcyBIZWFkZXJBcnRpY2xlIGV4dGVuZHMgUHVyZUNvbXBvbmVudDxJUHJvcHMsIElTdGF0ZT4ge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgbGlzdEFydGljbGVEYXRhOiBbXSxcbiAgICAgIHBhZ2VJbmRleDogMCxcbiAgICAgIHBhZ2VTaXplOiAxMCxcbiAgICAgIGxvYWRpbmc6IHRydWUsXG4gICAgfTtcbiAgICB0aGlzLmNhcm91c2VsID0gUmVhY3QuY3JlYXRlUmVmKCk7XG4gICAgdGhpcy5uZXh0ID0gdGhpcy5uZXh0LmJpbmQodGhpcyk7XG4gICAgdGhpcy5wcmV2aW91cyA9IHRoaXMucHJldmlvdXMuYmluZCh0aGlzKTtcbiAgfVxuICBuZXh0KCkge1xuICAgIHRoaXMuY2Fyb3VzZWwubmV4dCgpO1xuICB9XG4gIHByZXZpb3VzKCkge1xuICAgIHRoaXMuY2Fyb3VzZWwucHJldigpO1xuICB9XG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIHRoaXMuZ2V0TGlzdEFydGljbGUoMCwgNSk7XG4gIH1cblxuICBhc3luYyBnZXRMaXN0QXJ0aWNsZShwYWdlSW5kZXgsIHBhZ2VTaXplID0gNSkge1xuICAgIGxldCBib2R5ID0ge1xuICAgICAgYWRtaW5JRDogbnVsbCxcbiAgICAgIGhpZGRlbjogbnVsbCxcbiAgICAgIGNyZWF0ZWREYXRlOiBudWxsLFxuICAgICAgYW5ub3VuY2VtZW50VHlwZUlEOiBudWxsLFxuICAgIH07XG4gICAgdGhpcy5wcm9wcy5pZFR5cGUgPT09IFwiYWxsXCJcbiAgICAgID8gKGJvZHkuYW5ub3VuY2VtZW50VHlwZUlEID0gbnVsbClcbiAgICAgIDogKGJvZHkuYW5ub3VuY2VtZW50VHlwZUlEID0gdGhpcy5wcm9wcy5pZFR5cGUpO1xuICAgIGxldCByZXMgPSBhd2FpdCBfcmVxdWVzdFRvU2VydmVyKFxuICAgICAgUE9TVCxcbiAgICAgIGJvZHksXG4gICAgICBBTk5PVU5DRU1FTlRTLkxJU1QgKyBgP3BhZ2VJbmRleD0ke3BhZ2VJbmRleH0mcGFnZVNpemU9JHtwYWdlU2l6ZX1gLFxuICAgICAgUFVCTElDX0hPU1QsXG4gICAgICB7XG4gICAgICAgIHBhZ2VJbmRleDogcGFnZUluZGV4LFxuICAgICAgICBwYWdlU2l6ZTogcGFnZVNpemUsXG4gICAgICB9LFxuICAgICAgZmFsc2VcbiAgICApO1xuICAgIHRyeSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgbGlzdEFydGljbGVEYXRhOiByZXMuZGF0YS5pdGVtcyxcbiAgICAgICAgbG9hZGluZzogZmFsc2UsXG4gICAgICB9KTtcbiAgICB9IGNhdGNoIChlKSB7IH1cbiAgfVxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgcHJvcHMgPSB7XG4gICAgICBkb3RzOiB0cnVlLFxuICAgICAgaW5maW5pdGU6IHRydWUsXG4gICAgICBzbGlkZXNUb1Nob3c6IDEsXG4gICAgICBzbGlkZXNUb1Njcm9sbDogMSxcbiAgICB9O1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDw+XG4gICAgICAgIDxDb2wgc209ezI0fSBtZD17MjR9IGxnPXsxNn0geGw9ezE2fSB4eGw9ezE2fT5cbiAgICAgICAgICA8VGl0bGUgdGl0bGU9e1wiQsOgaSB2aeG6v3QgaGF5XCJ9IC8+XG4gICAgICAgICAgPENhcm91c2VsXG4gICAgICAgICAgICBkb3RzPXt0cnVlfVxuICAgICAgICAgICAgYXV0b3BsYXlcbiAgICAgICAgICAgIGF1dG9wbGF5U3BlZWQ9ezMwMDB9XG4gICAgICAgICAgICAvLyByZWY9eyhub2RlKSA9PiAodGhpcy5jYXJvdXNlbCA9IG5vZGUpfVxuICAgICAgICAgICAgey4uLnByb3BzfVxuICAgICAgICAgID5cbiAgICAgICAgICAgIHt0aGlzLnN0YXRlLmxpc3RBcnRpY2xlRGF0YS5tYXAoKGl0ZW0sIGluZGV4KSA9PiAoXG4gICAgICAgICAgICAgIDxkaXYga2V5PXtpbmRleH0+XG4gICAgICAgICAgICAgICAgPENhcmQxXG4gICAgICAgICAgICAgICAgICBpZD17aXRlbS5pZH1cbiAgICAgICAgICAgICAgICAgIHRpdGxlPXtpdGVtLnRpdGxlfVxuICAgICAgICAgICAgICAgICAgaW1hZ2VVcmw9e2l0ZW0uaW1hZ2VVcmx9XG4gICAgICAgICAgICAgICAgICBzdW1tYXJ5PXtpdGVtLnByZXZpZXdDb250ZW50fVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKSl9XG4gICAgICAgICAgPC9DYXJvdXNlbD5cbiAgICAgICAgPC9Db2w+XG4gICAgICAgIDxDb2wgeHM9ezI0fSBzbT17MTJ9IG1kPXsxMn0gbGc9ezd9IHhsPXs3fSB4eGw9ezd9PlxuICAgICAgICAgIDxHb29kQXJ0aWNsZSAvPlxuICAgICAgICA8L0NvbD5cbiAgICAgIDwvPlxuICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgSGVhZGVyQXJ0aWNsZTtcbiIsImltcG9ydCBSZWFjdCwgeyBQdXJlQ29tcG9uZW50IH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBfcmVxdWVzdFRvU2VydmVyIH0gZnJvbSBcIi4uLy4uLy4uL3NlcnZpY2VzL2V4ZWNcIjtcbmltcG9ydCB7IFBPU1QgfSBmcm9tIFwiLi4vLi4vLi4vY29uc3QvbWV0aG9kXCI7XG5pbXBvcnQgeyBBTk5PVU5DRU1FTlRTIH0gZnJvbSBcIi4uLy4uLy4uL3NlcnZpY2VzL2FwaS9wdWJsaWMuYXBpXCI7XG5pbXBvcnQgeyBQVUJMSUNfSE9TVCB9IGZyb20gXCIuLi8uLi8uLi9lbnZpcm9ubWVudC9kZXZlbG9wbWVudFwiO1xuaW1wb3J0IHsgU2tlbGV0b24sIENvbCB9IGZyb20gXCJhbnRkXCI7XG4vLyBpbXBvcnQgQ2FyZDMgZnJvbSBcIi4uL2NvbXBvbmVudC9DYXJkM1wiO1xuaW1wb3J0IENhcmQyIGZyb20gXCIuLi9jb21wb25lbnQvQ2FyZDJcIjtcblxuLy8gaW1wb3J0IEltYWdlRGVhdWx0IGZyb20gXCIuLi8uLi8uLi9hc3NldHMvaW1hZ2UvYmFzZS1pbWFnZS5qcGdcIjtcbi8vIGltcG9ydCB7IEdFVCB9IGZyb20gJy4vLi4vLi4vLi4vY29uc3QvbWV0aG9kJztcbmltcG9ydCBUaXRsZSBmcm9tICcuLy4uL2NvbXBvbmVudC9UaXRsZSc7XG5pbXBvcnQgeyBub0luZm9IZWFkZXIgfSBmcm9tICcuLi8uLi8uLi9zZXJ2aWNlcy9hdXRoJztcblxuaW50ZXJmYWNlIElQcm9wcyB7XG4gIGlkVHlwZT86IGFueTtcbiAgcGFnZUluZGV4PzogbnVtYmVyO1xuICBsaXN0VHlwZT86IGFueTtcbiAgdHlwZT86IGFueTtcbn1cblxuaW50ZXJmYWNlIElTdGF0ZSB7XG4gIGxvYWRpbmc/OiBib29sZWFuO1xuICBsaXN0QXJ0aWNsZURhdGE/OiBBcnJheTxhbnk+O1xuICBwYWdlSW5kZXg/OiBudW1iZXI7XG4gIHBhZ2VTaXplPzogbnVtYmVyO1xufVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBMaXN0TWlkZGxlIGV4dGVuZHMgUHVyZUNvbXBvbmVudDxJUHJvcHMsIElTdGF0ZT4ge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgbG9hZGluZzogdHJ1ZSxcbiAgICAgIGxpc3RBcnRpY2xlRGF0YTogW1xuICAgICAgICAvLyB7XG4gICAgICAgIC8vICAgaWQ6IG51bGwsXG4gICAgICAgIC8vICAgdGl0bGU6IG51bGwsXG4gICAgICAgIC8vICAgaW1hZ2VVcmw6IEltYWdlRGVhdWx0LFxuICAgICAgICAvLyAgIHN1bW1hcnk6IFwiXCIsXG4gICAgICAgIC8vICAgcmF0aW5nOiA1LFxuICAgICAgICAvLyAgIGRhdGU6IDAsXG4gICAgICAgIC8vIH0sXG4gICAgICBdLFxuICAgICAgcGFnZUluZGV4OiAwLFxuICAgICAgcGFnZVNpemU6IDUsXG4gICAgfTtcbiAgfVxuXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIHRoaXMuZ2V0TGlzdEFydGljbGUoXG4gICAgICB0aGlzLnByb3BzLnR5cGUuaWRcbiAgICApO1xuICB9XG5cbiAgYXN5bmMgZ2V0TGlzdEFydGljbGUodHlwZT86IHN0cmluZyB8IG51bWJlcikge1xuICAgIGxldCBib2R5ID0ge1xuICAgICAgYWRtaW5JRDogbnVsbCxcbiAgICAgIGhpZGRlbjogbnVsbCxcbiAgICAgIGNyZWF0ZWREYXRlOiBudWxsLFxuICAgICAgYW5ub3VuY2VtZW50VHlwZUlEOiB0eXBlLFxuICAgIH07XG5cbiAgICBhd2FpdCBfcmVxdWVzdFRvU2VydmVyKFxuICAgICAgUE9TVCxcbiAgICAgIGJvZHksXG4gICAgICBBTk5PVU5DRU1FTlRTLkxJU1QgKyBgP3BhZ2VJbmRleD0kezB9JnBhZ2VTaXplPSR7NX1gLFxuICAgICAgUFVCTElDX0hPU1QsXG4gICAgICBub0luZm9IZWFkZXIsXG4gICAgICB1bmRlZmluZWQsXG4gICAgICBmYWxzZSxcbiAgICAgIGZhbHNlLFxuICAgICAgdHJ1ZVxuICAgICkudGhlbigocmVzPzogYW55KSA9PiB7XG4gICAgICBpZiAocmVzICYmIHJlcy5kYXRhICYmIHJlcy5kYXRhLml0ZW1zKSB7XG4gICAgICAgIGxldCB7IGxpc3RBcnRpY2xlRGF0YSB9ID0gdGhpcy5zdGF0ZTtcbiAgICAgICAgbGlzdEFydGljbGVEYXRhID0gcmVzLmRhdGEuaXRlbXM7XG5cbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgbGlzdEFydGljbGVEYXRhLFxuICAgICAgICAgIGxvYWRpbmc6IGZhbHNlLFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBsZXQgeyBsaXN0QXJ0aWNsZURhdGEsIGxvYWRpbmcgfSA9IHRoaXMuc3RhdGU7XG4gICAgaWYgKGxvYWRpbmcpIHJldHVybiA8U2tlbGV0b24gLz5cbiAgICBlbHNlIHJldHVybiAoXG4gICAgICA8U2tlbGV0b24gYXZhdGFyIGxvYWRpbmc9e2xvYWRpbmd9PlxuXG4gICAgICAgIHtsaXN0QXJ0aWNsZURhdGEgJiYgbGlzdEFydGljbGVEYXRhLmxlbmd0aCA+IDAgP1xuICAgICAgICAgIChcbiAgICAgICAgICAgIDxDb2wgeHM9ezI0fSBzbT17MTB9IG1kPXsxMn0gbGc9ezh9IHhsPXs4fSB4eGw9ezZ9PlxuICAgICAgICAgICAgICA8VGl0bGUgdGl0bGU9e3RoaXMucHJvcHMudHlwZS5uYW1lfSAvPlxuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbGlzdEFydGljbGVEYXRhLm1hcCgoaXRlbT86IGFueSwgaW5kZXg/OiBudW1iZXIpID0+IHtcbiAgICAgICAgICAgICAgICAgIGlmIChpbmRleCA8IDQpIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgIDxDYXJkMlxuICAgICAgICAgICAgICAgICAgICAgIGtleT17aXRlbS5pZH1cbiAgICAgICAgICAgICAgICAgICAgICBpZD17aXRlbS5pZH1cbiAgICAgICAgICAgICAgICAgICAgICB0aXRsZT17aXRlbS50aXRsZX1cbiAgICAgICAgICAgICAgICAgICAgICBpbWFnZVVybD17aXRlbS5pbWFnZVVybH1cbiAgICAgICAgICAgICAgICAgICAgICBzdW1tYXJ5PXtpdGVtLnByZXZpZXdDb250ZW50fVxuICAgICAgICAgICAgICAgICAgICAgIHJhdGluZz17aXRlbS5hdmVyYWdlUmF0aW5nfVxuICAgICAgICAgICAgICAgICAgICAgIGRhdGU9e2l0ZW0uY3JlYXRlZERhdGV9XG4gICAgICAgICAgICAgICAgICAgIC8+KVxuICAgICAgICAgICAgICAgICAgZWxzZSByZXR1cm4gJydcbiAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgIDwvQ29sPlxuICAgICAgICAgICkgOiB1bmRlZmluZWRcbiAgICAgICAgfVxuXG4gICAgICA8L1NrZWxldG9uPlxuICAgICk7XG4gIH1cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCBMYXlvdXQgZnJvbSBcIi4uL2xheW91dC9MYXlvdXRcIjtcbmltcG9ydCBIZWFkZXIgZnJvbSBcIi4vSGVhZC9IZWFkZXJBcnRpY2xlXCI7XG4vLyBpbXBvcnQgXCIuL0FydGljbGUuc2Nzc1wiO1xuLy8gaW1wb3J0IE1pZGRsZSBmcm9tIFwiLi9taWRkbGVcIjtcbmltcG9ydCB7IF9yZXF1ZXN0VG9TZXJ2ZXIgfSBmcm9tIFwiLi4vLi4vc2VydmljZXMvZXhlY1wiO1xuaW1wb3J0IHsgR0VUIH0gZnJvbSBcIi4uLy4uL2NvbnN0L21ldGhvZFwiO1xuaW1wb3J0IHsgQU5OT1VOQ0VNRU5UUyB9IGZyb20gXCIuLi8uLi9zZXJ2aWNlcy9hcGkvcHVibGljLmFwaVwiO1xuaW1wb3J0IHsgUFVCTElDX0hPU1QgfSBmcm9tIFwiLi4vLi4vZW52aXJvbm1lbnQvZGV2ZWxvcG1lbnRcIjtcbmltcG9ydCBMaXN0TWlkZGxlIGZyb20gJy4vbWlkZGxlL0xpc3RNaWRsZSc7XG5pbXBvcnQgeyBDb2wsIFJvdywgQWZmaXgsIFRhYnMgfSBmcm9tICdhbnRkJztcblxuaW50ZXJmYWNlIElQcm9wcyB7XG4gIG1hdGNoPzogYW55LFxuICBoaXN0b3J5PzogSGlzdG9yeSxcbn1cblxuaW50ZXJmYWNlIElTdGF0ZSB7XG4gIGxvYWRpbmc6IGJvb2xlYW4sXG4gIGlkVHlwZTogYW55LFxuICBsaXN0VHlwZTogQXJyYXk8YW55Pixcbn1cblxuY29uc3QgeyBUYWJQYW5lIH0gPSBUYWJzO1xuXG5cblxuY2xhc3MgQXJ0aWNsZSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudDxJUHJvcHMsIElTdGF0ZT4ge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgbG9hZGluZzogdHJ1ZSxcbiAgICAgIGlkVHlwZTogbnVsbCxcbiAgICAgIGxpc3RUeXBlOiBbXSxcbiAgICB9O1xuXG4gIH1cbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgdGhpcy5nZXRMaXN0VHlwZUFydGljbGUoKVxuICAgIGNvbnNvbGUubG9nKHRoaXMucHJvcHMpO1xuICAgIC8vIHRoaXMgY29tbWVudCBmb3IgdGVzdCBzc2ggcmVtb3RlIHRvIGdpdGxhYlxuICB9XG5cbiAgYXN5bmMgZ2V0TGlzdFR5cGVBcnRpY2xlKCkge1xuICAgIGF3YWl0IF9yZXF1ZXN0VG9TZXJ2ZXIoXG4gICAgICBHRVQsXG4gICAgICBudWxsLFxuICAgICAgQU5OT1VOQ0VNRU5UUy5UWVBFLFxuICAgICAgUFVCTElDX0hPU1QsXG4gICAgICB7XG4gICAgICAgIHBhZ2VJbmRleDogMCxcbiAgICAgICAgcGFnZVNpemU6IDUwLFxuICAgICAgICBwcmlvcml0eTogXCJcIixcbiAgICAgIH0sXG4gICAgICBmYWxzZVxuICAgICkudGhlbigocmVzPzogYW55KSA9PiB7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgbGlzdFR5cGU6IHJlcy5kYXRhLml0ZW1zXG4gICAgICB9KVxuICAgIH0pO1xuICB9XG5cbiAgY2FsbGJhY2sgPSAoa2V5Pzogc3RyaW5nIHwgbnVtYmVyKSA9PiB7XG4gICAgdGhpcy5wcm9wcy5oaXN0b3J5LnB1c2goYC9iYWktdmlldC8ke2tleX1gKVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGxldCB7IGxpc3RUeXBlIH0gPSB0aGlzLnN0YXRlO1xuICAgIGxldCB7IG1hdGNoIH0gPSB0aGlzLnByb3BzO1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDxMYXlvdXQgZGlzYWJsZUZvb3RlckRhdGE9e3RydWV9PlxuICAgICAgICA8PlxuICAgICAgICAgIDxBZmZpeFxuICAgICAgICAgICAgb2Zmc2V0VG9wPXswfVxuICAgICAgICAgICAgY2hpbGRyZW49eyhcbiAgICAgICAgICAgICAgPFRhYnNcbiAgICAgICAgICAgICAgICBkZWZhdWx0QWN0aXZlS2V5PVwiMVwiXG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMuY2FsbGJhY2t9XG4gICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogXCJ3aGl0ZVwiLFxuICAgICAgICAgICAgICAgICAgbWFyZ2luQm90dG9tOiAwLFxuICAgICAgICAgICAgICAgICAgdGV4dEFsaWduOiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgICAgd2lkdGg6ICcxMDAlJyxcbiAgICAgICAgICAgICAgICAgIGZvbnRXZWlnaHQ6IDUwMFxuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8VGFiUGFuZSB0YWI9XCJU4bqldCBj4bqjXCIga2V5PVwiYWxsXCIgLz5cbiAgICAgICAgICAgICAgICB7bGlzdFR5cGUgJiYgbGlzdFR5cGUubGVuZ3RoID4gMCA/XG4gICAgICAgICAgICAgICAgICBsaXN0VHlwZS5tYXAoXG4gICAgICAgICAgICAgICAgICAgIChpdGVtPzogYW55KSA9PiA8VGFiUGFuZSBkaXNhYmxlZD17dHJ1ZX0gdGFiPXtpdGVtLm5hbWV9IGtleT17aXRlbS5pZH0gLz5cbiAgICAgICAgICAgICAgICAgICkgOiB1bmRlZmluZWR9XG4gICAgICAgICAgICAgIDwvVGFicz5cbiAgICAgICAgICAgICl9IC8+XG4gICAgICAgICAgPFJvdyBjbGFzc05hbWU9XCJjb250ZW50LWFuXCI+XG4gICAgICAgICAgICA8Q29sIHhzPXsyNH0gc209ezI0fSBsZz17MjN9IHhsPXsyMn0geHhsPXsyMn0+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiQXJ0aWNsZVwiPlxuICAgICAgICAgICAgICAgIDxSb3cgY2xhc3NOYW1lPVwiaGVhZC1hblwiPlxuICAgICAgICAgICAgICAgICAgPEhlYWRlciBpZFR5cGU9e3RoaXMucHJvcHMubWF0Y2gucGFyYW1zLmlkfSAvPlxuICAgICAgICAgICAgICAgIDwvUm93PlxuICAgICAgICAgICAgICAgIDxSb3cgY2xhc3NOYW1lPVwibC1taWRkbGVcIj5cbiAgICAgICAgICAgICAgICAgIHtsaXN0VHlwZSAmJiBsaXN0VHlwZS5sZW5ndGggPiAwID9cbiAgICAgICAgICAgICAgICAgICAgbGlzdFR5cGUubWFwKFxuICAgICAgICAgICAgICAgICAgICAgIChpdGVtPzogYW55LCBpPzogbnVtYmVyKSA9PiAoPExpc3RNaWRkbGUga2V5PXtpdGVtLmlkfSB0eXBlPXtpdGVtfSBpZFR5cGU9e21hdGNoLnBhcmFtcy5pZH0gLz4pXG4gICAgICAgICAgICAgICAgICAgICkgOiBcIlwifVxuICAgICAgICAgICAgICAgIDwvUm93PlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvQ29sPlxuICAgICAgICAgIDwvUm93PlxuICAgICAgICA8Lz5cbiAgICAgIDwvTGF5b3V0PlxuICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgQXJ0aWNsZTsiLCJleHBvcnQgY29uc3QgdGltZUNvbnZlcnRlciA9IChkYXRlUmF3KSA9PiB7XG4gIC8vIGlmKGRhdGVSYXcgPT09IC0xKSB7XG4gIC8vICAgcmV0dXJuIG51bGxcbiAgLy8gfVxuICB2YXIgZGF0ZSA9IG5ldyBEYXRlKGRhdGVSYXcpO1xuICByZXR1cm4gKFxuICAgIGRhdGUuZ2V0RGF0ZSgpICsgXCIvXCIgKyAoZGF0ZS5nZXRNb250aCgpICsgMSkgKyBcIi9cIiArIGRhdGUuZ2V0RnVsbFllYXIoKVxuICApO1xufTtcbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IGxpbWl0U3RyaW5nIH0gZnJvbSBcIi4uLy4uLy4uL3V0aWxzL2xpbWl0U3RyaW5nXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFRpdGxlKHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWlubmVyXCI+XG4gICAgICA8cD57bGltaXRTdHJpbmcocHJvcHMudGl0bGUsIDUwKSB9PC9wPlxuICAgIDwvZGl2PlxuICApO1xufVxuIiwiaW1wb3J0IFJlYWN0LCB7IFB1cmVDb21wb25lbnQgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IFNrZWxldG9uLCBJY29uLCBSb3csIENvbCwgUmF0ZSB9IGZyb20gXCJhbnRkXCI7XG4vL0B0cy1pZ25vcmVcbmltcG9ydCBEZWZhdWx0SW1hZ2UgZnJvbSBcIi4uLy4uLy4uL2Fzc2V0cy9pbWFnZS9iYXNlLWltYWdlLmpwZ1wiO1xuLy8gaW1wb3J0IHsgTGluayB9IGZyb20gXCJyZWFjdC1yb3V0ZXItZG9tXCI7XG4vLyBpbXBvcnQgXCIuL0NhcmQuc2Nzc1wiO1xuaW1wb3J0IHsgdGltZUNvbnZlcnRlciB9IGZyb20gXCIuLi8uLi8uLi91dGlscy9jb252ZXJ0VGltZVwiO1xuaW1wb3J0IHsgTGF6eUxvYWRJbWFnZSB9IGZyb20gJ3JlYWN0LWxhenktbG9hZC1pbWFnZS1jb21wb25lbnQnO1xuXG5pbnRlcmZhY2UgSVByb3BzIHtcbiAgaWQ/OiBzdHJpbmc7XG4gIHN1bW1hcnk/OiBzdHJpbmc7XG4gIHRpdGxlPzogc3RyaW5nO1xuICBpbWFnZVVybD86IHN0cmluZztcbiAgcmF0aW5nPzogYW55O1xuICBkYXRlPzogYW55O1xufVxuaW50ZXJmYWNlIElTdGF0ZSB7XG4gIGxvYWRpbmc/OiBib29sZWFuO1xuICB0aXRsZT86IHN0cmluZztcbiAgY29udGVudD86IHN0cmluZztcbiAgaWQ/OiBzdHJpbmc7XG4gIGltYWdlVXJsPzogc3RyaW5nO1xuICByYXRpbmc/OiBhbnk7XG4gIGRhdGU/OiBhbnk7XG59XG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDYXJkMiBleHRlbmRzIFB1cmVDb21wb25lbnQ8SVByb3BzLCBJU3RhdGU+IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGxvYWRpbmc6IHRydWUsXG4gICAgICB0aXRsZTogXCJcIixcbiAgICAgIGNvbnRlbnQ6IFwiXCIsXG4gICAgICBpbWFnZVVybDogXCJcIixcbiAgICAgIGlkOiBudWxsLFxuICAgICAgcmF0aW5nOiAwLFxuICAgICAgZGF0ZTogMCxcbiAgICB9O1xuICB9XG5cbiAgYXN5bmMgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgYXdhaXQgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICB0aXRsZTogdGhpcy5wcm9wcy50aXRsZSxcbiAgICAgIGNvbnRlbnQ6IHRoaXMucHJvcHMuc3VtbWFyeSxcbiAgICAgIGlkOiB0aGlzLnByb3BzLmlkLFxuICAgICAgcmF0aW5nOiB0aGlzLnByb3BzLnJhdGluZyxcbiAgICAgIGRhdGU6IHRpbWVDb252ZXJ0ZXIodGhpcy5wcm9wcy5kYXRlKSxcbiAgICAgIGltYWdlVXJsOlxuICAgICAgICB0aGlzLnByb3BzLmltYWdlVXJsID09PSBudWxsID8gRGVmYXVsdEltYWdlIDogdGhpcy5wcm9wcy5pbWFnZVVybCxcbiAgICAgIGxvYWRpbmc6IGZhbHNlLFxuICAgIH0pO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGxldCB7XG4gICAgICBjb250ZW50LFxuICAgICAgcmF0aW5nLFxuICAgICAgaW1hZ2VVcmwsXG4gICAgICB0aXRsZSxcbiAgICAgIGlkLFxuICAgICAgbG9hZGluZyxcbiAgICAgIGRhdGVcbiAgICB9ID0gdGhpcy5zdGF0ZTtcblxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2ID5cbiAgICAgICAgPFNrZWxldG9uXG4gICAgICAgICAgYXZhdGFyXG4gICAgICAgICAgcGFyYWdyYXBoPXt7IHJvd3M6IDIgfX1cbiAgICAgICAgICBhY3RpdmVcbiAgICAgICAgICBsb2FkaW5nPXtsb2FkaW5nfVxuICAgICAgICA+XG4gICAgICAgICAgPFJvdyBjbGFzc05hbWU9XCJjYXJkMlwiIG9uQ2xpY2s9eygpID0+IHdpbmRvdy5sb2NhdGlvbi5hc3NpZ24oYC9jaGktdGlldC1iYWktdmlldC8ke3dpbmRvdy5idG9hKGlkKX1gKX0+XG4gICAgICAgICAgICA8Q29sIGNsYXNzTmFtZT1cImFfY1wiIHhzPXs5fSBzbT17MTB9IG1kPXsxMH0gbGc9ezEwfSB4bD17MTB9IHh4bD17MTB9PlxuICAgICAgICAgICAgICA8TGF6eUxvYWRJbWFnZVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImltZy1jYXJkXCJcbiAgICAgICAgICAgICAgICBzcmM9e2ltYWdlVXJsfVxuICAgICAgICAgICAgICAgIGFsdD17dGl0bGV9XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8L0NvbD5cbiAgICAgICAgICAgIDxDb2wgY2xhc3NOYW1lPVwiY3QtYXJ0aWNsZVwiIHhzPXsxM30gc209ezEzfSBtZD17MTN9IGxnPXsxM30geGw9ezEzfSB4eGw9ezE0fT5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J3RpdGxlLWFydGljbGUnPlxuICAgICAgICAgICAgICAgIHt0aXRsZX1cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3VtbWFyeVwiPntjb250ZW50fTwvZGl2PlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImluZm9cIj5cbiAgICAgICAgICAgICAgICA8cD5cbiAgICAgICAgICAgICAgICAgIDxJY29uIHR5cGU9XCJjYWxlbmRhclwiIC8+IHtkYXRlfVxuICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICA8UmF0ZSBkaXNhYmxlZD17dHJ1ZX0gdmFsdWU9e3JhdGluZ30gc3R5bGU9e3sgZm9udFNpemU6ICcwLjhyZW0nIH19IC8+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9Db2w+XG4gICAgICAgICAgPC9Sb3c+XG4gICAgICAgIDwvU2tlbGV0b24+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG59XG4iLCJpbXBvcnQgUmVhY3QsIHsgUHVyZUNvbXBvbmVudCB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgU2tlbGV0b24sIEljb24sIFJhdGUgfSBmcm9tIFwiYW50ZFwiO1xuLy9AdHMtaWdub3JlXG5pbXBvcnQgRGVmYXVsdEltYWdlIGZyb20gXCIuLi8uLi8uLi9hc3NldHMvaW1hZ2UvYmFzZS1pbWFnZS5qcGdcIjtcbmltcG9ydCB7IExpbmsgfSBmcm9tIFwicmVhY3Qtcm91dGVyLWRvbVwiO1xuLy8gaW1wb3J0IFwiLi9DYXJkLnNjc3NcIjtcbmltcG9ydCB7IHRpbWVDb252ZXJ0ZXIgfSBmcm9tIFwiLi4vLi4vLi4vdXRpbHMvY29udmVydFRpbWVcIjtcbi8vIGltcG9ydCBUaXRsZSBmcm9tICcuL1RpdGxlJztcblxuaW50ZXJmYWNlIElQcm9wcyB7XG4gIGlkPzogc3RyaW5nO1xuICBzdW1tYXJ5Pzogc3RyaW5nO1xuICB0aXRsZT86IHN0cmluZztcbiAgaW1hZ2VVcmw/OiBzdHJpbmc7XG4gIHJhdGluZz86IGFueTtcbiAgZGF0ZT86IGFueTtcbn1cbmludGVyZmFjZSBJU3RhdGUge1xuICBsb2FkaW5nPzogYm9vbGVhbjtcbiAgdGl0bGU/OiBzdHJpbmc7XG4gIGNvbnRlbnQ/OiBzdHJpbmc7XG4gIGlkPzogc3RyaW5nO1xuICBpbWFnZVVybD86IHN0cmluZztcbiAgcmF0aW5nPzogYW55O1xuICBkYXRlPzogYW55O1xufVxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2FyZDMgZXh0ZW5kcyBQdXJlQ29tcG9uZW50PElQcm9wcywgSVN0YXRlPiB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBsb2FkaW5nOiB0cnVlLFxuICAgICAgdGl0bGU6IFwiXCIsXG4gICAgICBjb250ZW50OiBcIlwiLFxuICAgICAgaW1hZ2VVcmw6IFwiXCIsXG4gICAgICBpZDogbnVsbCxcbiAgICAgIHJhdGluZzogMCxcbiAgICAgIGRhdGU6IDAsXG4gICAgfTtcbiAgfVxuXG4gIGFzeW5jIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIGF3YWl0IHRoaXMuc2V0U3RhdGUoe1xuICAgICAgdGl0bGU6IHRoaXMucHJvcHMudGl0bGUsXG4gICAgICBjb250ZW50OiB0aGlzLnByb3BzLnN1bW1hcnksXG4gICAgICBpZDogdGhpcy5wcm9wcy5pZCxcbiAgICAgIHJhdGluZzogdGhpcy5wcm9wcy5yYXRpbmcsXG4gICAgICBkYXRlOiB0aW1lQ29udmVydGVyKHRoaXMucHJvcHMuZGF0ZSksXG4gICAgICBpbWFnZVVybDpcbiAgICAgICAgdGhpcy5wcm9wcy5pbWFnZVVybCA9PT0gbnVsbCA/IERlZmF1bHRJbWFnZSA6IHRoaXMucHJvcHMuaW1hZ2VVcmwsXG4gICAgICBsb2FkaW5nOiBmYWxzZSxcbiAgICB9KTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPExpbmsgdG89e2AvY2hpLXRpZXQtYmFpLXZpZXQvJHt3aW5kb3cuYnRvYSh0aGlzLnN0YXRlLmlkKX1gfT5cbiAgICAgICAgPFNrZWxldG9uXG4gICAgICAgICAgYXZhdGFyXG4gICAgICAgICAgcGFyYWdyYXBoPXt7IHJvd3M6IDIgfX1cbiAgICAgICAgICBhY3RpdmVcbiAgICAgICAgICBsb2FkaW5nPXt0aGlzLnN0YXRlLmxvYWRpbmd9XG4gICAgICAgID5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNhcmQzXCI+XG4gICAgICAgICAgICA8aW1nXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImltZy1jYXJkXCJcbiAgICAgICAgICAgICAgc3JjPXt0aGlzLnN0YXRlLmltYWdlVXJsfVxuICAgICAgICAgICAgICBhbHQ9XCJhcnRpY2xlXCJcbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0naW5mbyc+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSd0aXRsZS1hcnRpY2xlJz5cbiAgICAgICAgICAgICAgICB7dGhpcy5zdGF0ZS50aXRsZX1cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3VtbWFyeVwiPnt0aGlzLnN0YXRlLmNvbnRlbnR9PC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaW5mb1wiPlxuICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgIDxJY29uIHR5cGU9XCJjYWxlbmRhclwiIC8+IHt0aGlzLnN0YXRlLmRhdGV9XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgIDxSYXRlIGFsbG93SGFsZiBkaXNhYmxlZCB2YWx1ZT17dGhpcy5zdGF0ZS5yYXRpbmd9IC8+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvU2tlbGV0b24+XG4gICAgICA8L0xpbms+XG4gICAgKTtcbiAgfVxufVxuIiwiaW1wb3J0IFJlYWN0LCB7IFB1cmVDb21wb25lbnQgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IF9yZXF1ZXN0VG9TZXJ2ZXIgfSBmcm9tIFwiLi4vLi4vLi4vc2VydmljZXMvZXhlY1wiO1xuLy8gaW1wb3J0IHsgUE9TVCB9IGZyb20gJy4uLy4uLy4uL2NvbnN0L21ldGhvZCc7XG5pbXBvcnQgeyBBTk5PVU5DRU1FTlRTIH0gZnJvbSBcIi4uLy4uLy4uL3NlcnZpY2VzL2FwaS9wdWJsaWMuYXBpXCI7XG5pbXBvcnQgeyBQVUJMSUNfSE9TVCB9IGZyb20gXCIuLi8uLi8uLi9lbnZpcm9ubWVudC9kZXZlbG9wbWVudFwiO1xuXG5pbXBvcnQgVGl0bGUgZnJvbSBcIi4vVGl0bGVcIjtcbmltcG9ydCBDYXJkMyBmcm9tIFwiLi9DYXJkM1wiO1xuaW1wb3J0IENhcmQyIGZyb20gXCIuL0NhcmQyXCI7XG5pbXBvcnQgeyBQT1NUIH0gZnJvbSAnLi8uLi8uLi8uLi9jb25zdC9tZXRob2QnO1xuaW50ZXJmYWNlIElQcm9wcyB7XG4gIGlkVHlwZT86IGFueTtcbiAgY2FyZFR5cGU/OiBudW1iZXI7XG59XG5pbnRlcmZhY2UgSVN0YXRlIHtcbiAgbGlzdEFydGljbGVEYXRhPzogYW55O1xuICBib2R5PzogYW55O1xuICBsb2FkaW5nPzogYm9vbGVhbjtcbiAgcGFnZUluZGV4PzogYW55O1xuICBwYWdlU2l6ZT86IGFueTtcbn1cblxuY2xhc3MgR29vZEFydGljbGUgZXh0ZW5kcyBQdXJlQ29tcG9uZW50PElQcm9wcywgSVN0YXRlPiB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBsaXN0QXJ0aWNsZURhdGE6IFtdLFxuICAgICAgcGFnZUluZGV4OiAwLFxuICAgICAgcGFnZVNpemU6IDEwLFxuICAgICAgbG9hZGluZzogdHJ1ZSxcbiAgICB9O1xuICB9XG5cbiAgcHVibGljIHN0YXRpYyBkZWZhdWx0UHJvcHMgPSB7XG4gICAgY2FyZFR5cGU6IDIsXG4gIH07XG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIHRoaXMuZ2V0TGlzdEFydGljbGUoMCwgNSk7XG4gIH1cblxuICBhc3luYyBnZXRMaXN0QXJ0aWNsZShwYWdlSW5kZXggPSAwLCBwYWdlU2l6ZSA9IDUpIHtcbiAgICBsZXQgYm9keSA9IHtcbiAgICAgIGFkbWluSUQ6IG51bGwsXG4gICAgICBoaWRkZW46IG51bGwsXG4gICAgICBjcmVhdGVkRGF0ZTogbnVsbCxcbiAgICAgIGFubm91bmNlbWVudFR5cGVJRDogbnVsbCxcbiAgICB9O1xuICAgIHRoaXMucHJvcHMuaWRUeXBlID09PSBcImFsbFwiXG4gICAgICA/IChib2R5LmFubm91bmNlbWVudFR5cGVJRCA9IG51bGwpXG4gICAgICA6IChib2R5LmFubm91bmNlbWVudFR5cGVJRCA9IHRoaXMucHJvcHMuaWRUeXBlKTtcblxuICAgYXdhaXQgX3JlcXVlc3RUb1NlcnZlcihcbiAgICAgIFBPU1QsXG4gICAgICBib2R5LFxuICAgICAgQU5OT1VOQ0VNRU5UUy5MSVNUICtcbiAgICAgIGA/c29ydEJ5PWEudmlld051bWJlciZzb3J0VHlwZT1kZXNjJnBhZ2VJbmRleD0kezB9JnBhZ2VTaXplPSR7cGFnZVNpemV9YCxcbiAgICAgIFBVQkxJQ19IT1NULFxuICAgICAge1xuICAgICAgICBwYWdlSW5kZXg6IHBhZ2VJbmRleCxcbiAgICAgICAgcGFnZVNpemU6IHBhZ2VTaXplLFxuICAgICAgfSxcbiAgICAgIGZhbHNlLFxuXG4gICAgKS50aGVuKChyZXM/OiBhbnkpID0+IHtcbiAgICAgIGlmIChyZXMpIHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgbGlzdEFydGljbGVEYXRhOiByZXMuZGF0YS5pdGVtcyxcbiAgICAgICAgICBsb2FkaW5nOiBmYWxzZSxcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgbGV0IHsgbGlzdEFydGljbGVEYXRhIH0gPSB0aGlzLnN0YXRlO1xuICAgIC8vIGNvbnN0IHByb3BzID0ge1xuICAgIC8vICAgZG90czogdHJ1ZSxcbiAgICAvLyAgIGluZmluaXRlOiB0cnVlLFxuICAgIC8vICAgc2xpZGVzVG9TaG93OiAxLFxuICAgIC8vICAgc2xpZGVzVG9TY3JvbGw6IDEsXG4gICAgLy8gfTtcbiAgICBpZiAodGhpcy5zdGF0ZS5sb2FkaW5nKSByZXR1cm4gPGRpdj5sb2FkaW5nIC4uLi4uPC9kaXY+O1xuICAgIGVsc2Uge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJnb29kLWFydGljbGVcIj5cbiAgICAgICAgICA8VGl0bGUgdGl0bGU9e1wiTmhp4buBdSBuZ8aw4budaSDEkeG7jWNcIn0gLz5cbiAgICAgICAgICB7bGlzdEFydGljbGVEYXRhLm1hcCgoaXRlbSwgaW5kZXgpID0+IChcbiAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAga2V5PXtpbmRleH1cbiAgICAgICAgICAgICAgc3R5bGU9e3sgZGlzcGxheTogaW5kZXggPT09IDAgPyBcIm5vbmVcIiA6IFwiXCIsIG1hcmdpblRvcDogMjAgfX1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAge3RoaXMucHJvcHMuY2FyZFR5cGUgPT09IDIgJiYgKFxuICAgICAgICAgICAgICAgIDxDYXJkMlxuICAgICAgICAgICAgICAgICAgaWQ9e2l0ZW0uaWR9XG4gICAgICAgICAgICAgICAgICB0aXRsZT17aXRlbS50aXRsZX1cbiAgICAgICAgICAgICAgICAgIGltYWdlVXJsPXtpdGVtLmltYWdlVXJsfVxuICAgICAgICAgICAgICAgICAgc3VtbWFyeT17aXRlbS5wcmV2aWV3Q29udGVudH1cbiAgICAgICAgICAgICAgICAgIHJhdGluZz17aXRlbS5hdmVyYWdlUmF0aW5nfVxuICAgICAgICAgICAgICAgICAgZGF0ZT17aXRlbS5jcmVhdGVkRGF0ZX1cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICB7dGhpcy5wcm9wcy5jYXJkVHlwZSA9PT0gMyAmJiAoXG4gICAgICAgICAgICAgICAgPENhcmQzXG4gICAgICAgICAgICAgICAgICBpZD17aXRlbS5pZH1cbiAgICAgICAgICAgICAgICAgIHRpdGxlPXtpdGVtLnRpdGxlfVxuICAgICAgICAgICAgICAgICAgaW1hZ2VVcmw9e2l0ZW0uaW1hZ2VVcmx9XG4gICAgICAgICAgICAgICAgICBzdW1tYXJ5PXtpdGVtLnByZXZpZXdDb250ZW50fVxuICAgICAgICAgICAgICAgICAgcmF0aW5nPXtpdGVtLmF2ZXJhZ2VSYXRpbmd9XG4gICAgICAgICAgICAgICAgICBkYXRlPXtpdGVtLmNyZWF0ZWREYXRlfVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICApKX1cbiAgICAgICAgPC9kaXY+XG4gICAgICApO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBHb29kQXJ0aWNsZTtcbiJdLCJzb3VyY2VSb290IjoiIn0=