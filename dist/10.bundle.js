(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{107:function(e,t,a){"use strict";a.r(t),function(e){var s=a(4),n=a.n(s),o=(a(95),a(12)),l=a.n(o),r=a(19),c=a(9),i=a(2),m=a(3),p=a(39),h=a(6),d=a(5),g=a(61),u=a(0),E=a(96),b=a(73),f=a(66),_=a(40);function w(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class y extends s.Component{constructor(t){super(t),w(this,"handleUsername",e=>{this.setState({user_name:e.target.value.trim()})}),w(this,"handlePassword",e=>{this.setState({password:e.target.value.trim()})}),w(this,"_createResponse",()=>{this.setState({loading:!0}),this.getResponse()}),w(this,"onLoginFB",async t=>{t&&await Object(h.a)(d.c,{client_id:e.env.REACT_APP_CLIENT_ID,sercret:e.env.REACT_APP_CLIENT_SECRET,fbAccessToken:t.tokenDetail.accessToken},"/api/authentication/facebook",e.env.REACT_APP_API_HOST,i.b).then(e=>{e&&this._loginAction(e)})}),w(this,"handleError",e=>{this.setState({error:e})}),w(this,"_loginAction",(e,t)=>{if("STUDENT"!==e.data.target)l()({title:"Worksvns thông báo",text:"Sai tên đăng nhập hoặc mật khẩu!",icon:"error",dangerMode:!0});else if(!1===e.data.userExists)localStorage.setItem("user_exists",!1),localStorage.setItem("user_exists_userName",data.username),localStorage.setItem("user_exists_password",data.password),l()({title:"Worksvn thông báo",text:"Xác thực thông tin để đăng nhập",icon:"success",dangerMode:!0}).then(()=>{window.location.assign("/register")});else{Object(i.f)(e);let t=localStorage.getItem("last_access");t?window.location.href=t:window.location.assign("/")}}),w(this,"getResponse",async()=>{let e={username:this.state.user_name,password:this.state.password};Object(h.a)(d.c,e,c.q,m.a,i.b,null,!1).then(e=>{e&&this._loginAction(e)}).finally(()=>{setTimeout(()=>{this.setState({loading:!1})},1e3)})}),this.state={user_name:"",password:"",loading:!1},this.key_icon=n.a.createElement("i",{className:"fa fa-key"}),this.letter_icon=n.a.createElement("i",{className:"fa fa-envelope"})}render(){let{user_name:e,password:t,loading:a}=this.state,{mobile:s}=this.props;return n.a.createElement(g.a,{disableFooterData:!1},n.a.createElement("div",{className:"login-content"},n.a.createElement(p.Col,{xs:s?24:12,sm:s?24:12,md:s?24:12,lg:s?24:10,xl:s?24:10,xxl:s?24:10},n.a.createElement("div",{className:"login-form"},n.a.createElement(_.LazyLoadImage,{src:E.a,alt:"logo",width:"240",height:"80"}),n.a.createElement("p",{className:"title a_c",style:{fontWeight:600}},"ĐĂNG NHẬP"),n.a.createElement("form",null,n.a.createElement("p",{className:"nomal"},n.a.createElement(p.Input,{placeholder:"Email",prefix:n.a.createElement(p.Icon,{type:"mail",style:{color:"rgba(0,0,0,.25)"}}),suffix:n.a.createElement(p.Tooltip,{title:"Email của bạn"},n.a.createElement(p.Icon,{type:"info-circle",style:{color:"rgba(0,0,0,.45)"}})),value:e,onChange:this.handleUsername,type:"text"})),n.a.createElement("p",{className:"nomal"},n.a.createElement(p.Input.Password,{placeholder:"Password",prefix:n.a.createElement(p.Icon,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),value:t,onChange:this.handlePassword,onPressEnter:this._createResponse,type:"password"})),n.a.createElement("p",{className:"fogot-password a_r"},n.a.createElement("a",{href:"/forgot-password",style:{color:"gray"}},"Quên mật khẩu ?")),n.a.createElement("p",null,n.a.createElement(p.Button,{className:"btn-login",type:"primary",onClick:this._createResponse,block:!0},a?n.a.createElement(p.Icon,{type:"loading"}):"Đăng nhập")),n.a.createElement("p",{className:"a_c"},"Bạn chưa có tài khoản ?"," ",n.a.createElement("label",{onClick:()=>Object(f.a)("register"),style:{color:"#fb4141"}},n.a.createElement("b",null,"Đăng ký")))))),n.a.createElement(p.Col,{xs:0,sm:0,md:s?0:12,lg:s?0:14,xl:s?0:14,xxl:s?0:14},n.a.createElement(_.LazyLoadImage,{alt:"Đăng nhập tìm việc",src:b.a,className:"image-login"}))))}}t.default=Object(r.connect)(e=>({prop:e.prop,mobile:e.MobileState.isMobile}),e=>({openPopup:t=>e({type:u.a.POPUP.OPEN_POPUP,data:t}),setAuthen:()=>e({type:u.a.AUTHEN.EXACT_AUTHEN})}))(y)}.call(this,a(14))},73:function(e,t,a){"use strict";t.a=a.p+"7dbde580ac9baf0470e6ac591412d70a.png"},95:function(e,t,a){},96:function(e,t,a){"use strict";t.a=a.p+"a880d479de4bf9f8e277cb330dde35b4.png"}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvdmlldy9sb2dpbi9Mb2dpbi50c3giLCJ3ZWJwYWNrOi8vLy4vc3JjL2Fzc2V0cy9pbWFnZS9pbWFnZS1sb2dpbi5wbmciLCJ3ZWJwYWNrOi8vLy4vc3JjL2Fzc2V0cy9pbWFnZS9sb2dvLTAxLnBuZyJdLCJuYW1lcyI6WyJMb2dpbiIsIkNvbXBvbmVudCIsImNvbnN0cnVjdG9yIiwicHJvcHMiLCJzdXBlciIsImUiLCJ0aGlzIiwic2V0U3RhdGUiLCJ1c2VyX25hbWUiLCJ0YXJnZXQiLCJ2YWx1ZSIsInRyaW0iLCJwYXNzd29yZCIsImxvYWRpbmciLCJnZXRSZXNwb25zZSIsImFzeW5jIiwiZGF0YSIsIl9yZXF1ZXN0VG9TZXJ2ZXIiLCJQT1NUIiwiY2xpZW50X2lkIiwicHJvY2VzcyIsImVudiIsIlJFQUNUX0FQUF9DTElFTlRfSUQiLCJzZXJjcmV0IiwiUkVBQ1RfQVBQX0NMSUVOVF9TRUNSRVQiLCJmYkFjY2Vzc1Rva2VuIiwidG9rZW5EZXRhaWwiLCJhY2Nlc3NUb2tlbiIsIlJFQUNUX0FQUF9BUElfSE9TVCIsImxvZ2luSGVhZGVycyIsInRoZW4iLCJyZXMiLCJfbG9naW5BY3Rpb24iLCJlcnJvciIsInR5cGUiLCJzd2FsIiwidGl0bGUiLCJ0ZXh0IiwiaWNvbiIsImRhbmdlck1vZGUiLCJ1c2VyRXhpc3RzIiwibG9jYWxTdG9yYWdlIiwic2V0SXRlbSIsInVzZXJuYW1lIiwid2luZG93IiwibG9jYXRpb24iLCJhc3NpZ24iLCJzZXRBdXRoU2F0ZSIsImxhc3RfYWNjZXNzIiwiZ2V0SXRlbSIsImhyZWYiLCJzdGF0ZSIsImF1dGhVc2VyUGFzc3dvcmQiLCJBVVRIX0hPU1QiLCJmaW5hbGx5Iiwic2V0VGltZW91dCIsImtleV9pY29uIiwiY2xhc3NOYW1lIiwibGV0dGVyX2ljb24iLCJyZW5kZXIiLCJtb2JpbGUiLCJkaXNhYmxlRm9vdGVyRGF0YSIsInhzIiwic20iLCJtZCIsImxnIiwieGwiLCJ4eGwiLCJzcmMiLCJsb2dvIiwiYWx0Iiwid2lkdGgiLCJoZWlnaHQiLCJzdHlsZSIsImZvbnRXZWlnaHQiLCJwbGFjZWhvbGRlciIsInByZWZpeCIsImNvbG9yIiwic3VmZml4Iiwib25DaGFuZ2UiLCJoYW5kbGVVc2VybmFtZSIsIlBhc3N3b3JkIiwiaGFuZGxlUGFzc3dvcmQiLCJvblByZXNzRW50ZXIiLCJfY3JlYXRlUmVzcG9uc2UiLCJvbkNsaWNrIiwiYmxvY2siLCJnb0JhY2tXaGVuTG9naW5lZCIsImltYWdlTG9naW4iLCJjb25uZWN0IiwicHJvcCIsIk1vYmlsZVN0YXRlIiwiaXNNb2JpbGUiLCJkaXNwYXRjaCIsIm9wZW5Qb3B1cCIsIlJFRFVYIiwiUE9QVVAiLCJPUEVOX1BPUFVQIiwic2V0QXV0aGVuIiwiQVVUSEVOIiwiRVhBQ1RfQVVUSEVOIl0sIm1hcHBpbmdzIjoicVhBd0JBLE1BQU1BLFVBQWNDLFlBQ2xCQyxZQUFZQyxHQUNWQyxNQUFNRCxHQURXLHdCQVlERSxJQUNoQkMsS0FBS0MsU0FBUyxDQUNaQyxVQUFXSCxFQUFFSSxPQUFPQyxNQUFNQyxXQWRYLHdCQWtCRE4sSUFDaEJDLEtBQUtDLFNBQVMsQ0FDWkssU0FBVVAsRUFBRUksT0FBT0MsTUFBTUMsV0FwQlYseUJBd0JELEtBQ2hCTCxLQUFLQyxTQUFTLENBQUVNLFNBQVMsSUFDekJQLEtBQUtRLGdCQTFCWSxtQkE4QlBDLFVBQ05DLFNBQ0lDLFlBQ0pDLElBQ0EsQ0FDRUMsVUFBV0MsRUFBUUMsSUFBSUMsb0JBQ3ZCQyxRQUFTSCxFQUFRQyxJQUFJRyx3QkFDckJDLGNBQWVULEVBQUtVLFlBQVlDLGFBRWxDLCtCQUNBUCxFQUFRQyxJQUFJTyxtQkFDWkMsS0FDQUMsS0FBTUMsSUFDRkEsR0FDRnpCLEtBQUswQixhQUFhRCxPQTVDUCxxQkFrREpFLElBQ2IzQixLQUFLQyxTQUFTLENBQUUwQixZQW5EQyxzQkFzREosQ0FBQ0YsRUFBV0csS0FDekIsR0FBd0IsWUFBcEJILEVBQUlmLEtBQUtQLE9BQ1gwQixJQUFLLENBQ0hDLE1BQU8scUJBQ1BD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Q0FBRUksTUFBTyxZQUVoQiwyQ0FNVixrQkFBQyxNQUFELENBQ0VmLEdBQWEsRUFDYkMsR0FBYSxFQUNiQyxHQUFJSixFQUFTLEVBQUksR0FDakJLLEdBQUlMLEVBQVMsRUFBSSxHQUNqQk0sR0FBSU4sRUFBUyxFQUFJLEdBQ2pCTyxJQUFLUCxFQUFTLEVBQUksSUFFbEIsa0JBQUMsZ0JBQUQsQ0FBZVUsSUFBSSxxQkFBcUJGLElBQUtvQixJQUFZL0IsVUFBVSxvQkF3QmhFZ0MsNEJBZFV0QyxJQUNoQixDQUNMdUMsS0FBTXZDLEVBQU11QyxLQUNaOUIsT0FBUVQsRUFBTXdDLFlBQVlDLFdBSUZDLElBQ25CLENBQ0xDLFVBQVk5RSxHQUFTNkUsRUFBUyxDQUFFM0QsS0FBTTZELElBQU1DLE1BQU1DLFdBQVlqRixTQUM5RGtGLFVBQVcsSUFBTUwsRUFBUyxDQUFFM0QsS0FBTTZELElBQU1JLE9BQU9DLGlCQUlwQ1gsQ0FBNkN6RixJLGtEQzdTN0MsUUFBMEIsd0MscURDQTFCLFFBQTBCIiwiZmlsZSI6IjEwLmJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCwgeyBDb21wb25lbnQgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCBcIi4vTG9naW4uc2Nzc1wiO1xuaW1wb3J0IHN3YWwgZnJvbSBcInN3ZWV0YWxlcnRcIjtcbi8vIGltcG9ydCAqIGFzIGF1dGggZnJvbSAnLi4vLi4vc2VydmljZS9hdXRoJztcbmltcG9ydCB7IGNvbm5lY3QgfSBmcm9tIFwicmVhY3QtcmVkdXhcIjtcbmltcG9ydCB7IGF1dGhVc2VyUGFzc3dvcmQgfSBmcm9tIFwiLi4vLi4vc2VydmljZXMvYXBpL3ByaXZhdGUuYXBpXCI7XG5pbXBvcnQgeyBzZXRBdXRoU2F0ZSwgbG9naW5IZWFkZXJzIH0gZnJvbSAnLi4vLi4vc2VydmljZXMvYXV0aCc7XG5pbXBvcnQgeyBBVVRIX0hPU1QgfSBmcm9tIFwiLi4vLi4vZW52aXJvbm1lbnQvZGV2ZWxvcG1lbnRcIjtcbmltcG9ydCB7IElucHV0LCBUb29sdGlwLCBJY29uLCBCdXR0b24gfSBmcm9tIFwiYW50ZFwiO1xuaW1wb3J0IHsgQ29sIH0gZnJvbSBcImFudGRcIjtcbmltcG9ydCB7IF9yZXF1ZXN0VG9TZXJ2ZXIgfSBmcm9tIFwiLi4vLi4vc2VydmljZXMvZXhlY1wiO1xuaW1wb3J0IHsgUE9TVCB9IGZyb20gXCIuLi8uLi9jb25zdC9tZXRob2RcIjtcbmltcG9ydCBMYXlvdXQgZnJvbSBcIi4uL2xheW91dC9MYXlvdXRcIjtcbmltcG9ydCB7IFJFRFVYIH0gZnJvbSBcIi4uLy4uL2NvbnN0L2FjdGlvbnNcIjtcbi8vIGltcG9ydCBxdWVyeVN0cmluZyBmcm9tIFwicXVlcnktc3RyaW5nXCI7XG4vL0B0cy1pZ25vcmVcbmltcG9ydCBsb2dvIGZyb20gXCIuLi8uLi9hc3NldHMvaW1hZ2UvbG9nby0wMS5wbmdcIjtcbi8vQHRzLWlnbm9yZVxuaW1wb3J0IGltYWdlTG9naW4gZnJvbSBcIi4uLy4uL2Fzc2V0cy9pbWFnZS9pbWFnZS1sb2dpbi5wbmdcIjtcbmltcG9ydCB7IGdvQmFja1doZW5Mb2dpbmVkIH0gZnJvbSBcIi4uLy4uL3V0aWxzL2dvQmFja1doZW5Mb2dpbmVkXCI7XG5pbXBvcnQgeyBMYXp5TG9hZEltYWdlIH0gZnJvbSAncmVhY3QtbGF6eS1sb2FkLWltYWdlLWNvbXBvbmVudCc7XG5pbXBvcnQgeyBGYWNlYm9va1Byb3ZpZGVyLCBMb2dpbkJ1dHRvbiB9IGZyb20gJ3JlYWN0LWZhY2Vib29rJztcbi8vIGltcG9ydCB7IFRZUEUgfSBmcm9tICcuLy4uLy4uL2NvbnN0L3R5cGUnO1xuXG5jbGFzcyBMb2dpbiBleHRlbmRzIENvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICB1c2VyX25hbWU6IFwiXCIsXG4gICAgICBwYXNzd29yZDogXCJcIixcbiAgICAgIGxvYWRpbmc6IGZhbHNlLFxuICAgIH07XG5cbiAgICB0aGlzLmtleV9pY29uID0gPGkgY2xhc3NOYW1lPVwiZmEgZmEta2V5XCI+PC9pPjtcbiAgICB0aGlzLmxldHRlcl9pY29uID0gPGkgY2xhc3NOYW1lPVwiZmEgZmEtZW52ZWxvcGVcIj48L2k+O1xuICB9XG5cbiAgaGFuZGxlVXNlcm5hbWUgPSAoZSkgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgdXNlcl9uYW1lOiBlLnRhcmdldC52YWx1ZS50cmltKCksXG4gICAgfSk7XG4gIH07XG5cbiAgaGFuZGxlUGFzc3dvcmQgPSAoZSkgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgcGFzc3dvcmQ6IGUudGFyZ2V0LnZhbHVlLnRyaW0oKSxcbiAgICB9KTtcbiAgfTtcblxuICBfY3JlYXRlUmVzcG9uc2UgPSAoKSA9PiB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7IGxvYWRpbmc6IHRydWUgfSk7XG4gICAgdGhpcy5nZXRSZXNwb25zZSgpO1xuICB9O1xuXG5cbiAgb25Mb2dpbkZCID0gYXN5bmMgKGRhdGEpID0+IHtcbiAgICBpZiAoZGF0YSkge1xuICAgICAgYXdhaXQgX3JlcXVlc3RUb1NlcnZlcihcbiAgICAgICAgUE9TVCxcbiAgICAgICAge1xuICAgICAgICAgIGNsaWVudF9pZDogcHJvY2Vzcy5lbnYuUkVBQ1RfQVBQX0NMSUVOVF9JRCxcbiAgICAgICAgICBzZXJjcmV0OiBwcm9jZXNzLmVudi5SRUFDVF9BUFBfQ0xJRU5UX1NFQ1JFVCxcbiAgICAgICAgICBmYkFjY2Vzc1Rva2VuOiBkYXRhLnRva2VuRGV0YWlsLmFjY2Vzc1Rva2VuXG4gICAgICAgIH0sXG4gICAgICAgIFwiL2FwaS9hdXRoZW50aWNhdGlvbi9mYWNlYm9va1wiLFxuICAgICAgICBwcm9jZXNzLmVudi5SRUFDVF9BUFBfQVBJX0hPU1QsXG4gICAgICAgIGxvZ2luSGVhZGVyc1xuICAgICAgKS50aGVuKChyZXMpID0+IHtcbiAgICAgICAgaWYgKHJlcykge1xuICAgICAgICAgIHRoaXMuX2xvZ2luQWN0aW9uKHJlcylcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICB9XG4gIH1cblxuICBoYW5kbGVFcnJvciA9IChlcnJvcikgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoeyBlcnJvciB9KTtcbiAgfVxuXG4gIF9sb2dpbkFjdGlvbiA9IChyZXM/OiBhbnksIHR5cGU/OiBzdHJpbmcpID0+IHtcbiAgICBpZiAocmVzLmRhdGEudGFyZ2V0ICE9PSBcIlNUVURFTlRcIikge1xuICAgICAgc3dhbCh7XG4gICAgICAgIHRpdGxlOiBcIldvcmtzdm5zIHRow7RuZyBiw6FvXCIsXG4gICAgICAgIHRleHQ6IFwiU2FpIHTDqm4gxJHEg25nIG5o4bqtcCBob+G6t2MgbeG6rXQga2jhuql1IVwiLFxuICAgICAgICBpY29uOiBcImVycm9yXCIsXG4gICAgICAgIGRhbmdlck1vZGU6IHRydWUsXG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHJlcy5kYXRhLnVzZXJFeGlzdHMgPT09IGZhbHNlKSB7XG4gICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwidXNlcl9leGlzdHNcIiwgZmFsc2UpO1xuICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcInVzZXJfZXhpc3RzX3VzZXJOYW1lXCIsIGRhdGEudXNlcm5hbWUpO1xuICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcInVzZXJfZXhpc3RzX3Bhc3N3b3JkXCIsIGRhdGEucGFzc3dvcmQpO1xuICAgICAgICBzd2FsKHtcbiAgICAgICAgICB0aXRsZTogXCJXb3Jrc3ZuIHRow7RuZyBiw6FvXCIsXG4gICAgICAgICAgdGV4dDogXCJYw6FjIHRo4buxYyB0aMO0bmcgdGluIMSR4buDIMSRxINuZyBuaOG6rXBcIixcbiAgICAgICAgICBpY29uOiBcInN1Y2Nlc3NcIixcbiAgICAgICAgICBkYW5nZXJNb2RlOiB0cnVlLFxuICAgICAgICB9KS50aGVuKCgpID0+IHtcbiAgICAgICAgICB3aW5kb3cubG9jYXRpb24uYXNzaWduKFwiL3JlZ2lzdGVyXCIpO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNldEF1dGhTYXRlKHJlcyk7XG4gICAgICAgIC8vIHRoaXMucHJvcHMuc2V0QXV0aGVuKCk7XG4gICAgICAgIGxldCBsYXN0X2FjY2VzcyA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwibGFzdF9hY2Nlc3NcIik7XG4gICAgICAgIGxhc3RfYWNjZXNzXG4gICAgICAgICAgPyB3aW5kb3cubG9jYXRpb24uaHJlZiA9IGxhc3RfYWNjZXNzXG4gICAgICAgICAgOiB3aW5kb3cubG9jYXRpb24uYXNzaWduKFwiL1wiKTtcbiAgICAgICAgLy8gY29uc3QgcGFyc2VkID0gcXVlcnlTdHJpbmcucGFyc2UodGhpcy5wcm9wcy5sb2NhdGlvbi5zZWFyY2gpO1xuICAgICAgICAvLyBjb25zb2xlLmxvZyhwYXJzZWQpO1xuICAgICAgICAvLyBpZiAocGFyc2VkLnBhdGgpIHtcbiAgICAgICAgLy8gICAgIHdpbmRvdy5sb2NhdGlvbi5hc3NpZ24ocGFyc2VkLnBhdGgpO1xuICAgICAgICAvLyB9IGVsc2UgaWYgKGxhc3RfYWNjZXNzKSB7XG4gICAgICAgIC8vICAgICB3aW5kb3cubG9jYXRpb24uYXNzaWduKGxhc3RfYWNjZXNzKTtcbiAgICAgICAgLy8gfSBlbHNlIHtcbiAgICAgICAgLy8gICAgIHdpbmRvdy5sb2NhdGlvbi5hc3NpZ24oJy8nKTtcbiAgICAgICAgLy8gfVxuXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMucHJvcHMubG9jYXRpb24uc2VhcmNoKTtcbiAgICAgICAgLy8gICBjb25zdCBwYXJzZWQgPSBxdWVyeVN0cmluZy5wYXJzZSh0aGlzLnByb3BzLmxvY2F0aW9uLnNlYXJjaCk7XG4gICAgICAgIC8vICAgLy8gY29uc29sZS5sb2cod2luZG93LmF0b2IocGFyc2VkLnBhdGgpKTtcbiAgICAgICAgLy8gICAvLyBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgLy8gICB2YXIgYmFzZTY0cmVnZXggPSAvXihbMC05YS16QS1aKy9dezR9KSooKFswLTlhLXpBLVorL117Mn09PSl8KFswLTlhLXpBLVorL117M309KSk/JC87XG4gICAgICAgIC8vICAgaWYgKGJhc2U2NHJlZ2V4LnRlc3QocGFyc2VkLnBhdGgpKSB7XG4gICAgICAgIC8vICAgICBpZiAod2luZG93LmF0b2IocGFyc2VkLnBhdGgpKSB7XG4gICAgICAgIC8vICAgICAgIHdpbmRvdy5sb2NhdGlvbi5hc3NpZ24od2luZG93LmF0b2IocGFyc2VkLnBhdGgpKTtcbiAgICAgICAgLy8gICAgIH0gZWxzZSB7XG4gICAgICAgIC8vICAgICAgIHdpbmRvdy5sb2NhdGlvbi5hc3NpZ24oXCIvXCIpO1xuICAgICAgICAvLyAgICAgfVxuICAgICAgICAvLyAgIH0gZWxzZSB7XG4gICAgICAgIC8vICAgICB3aW5kb3cubG9jYXRpb24uYXNzaWduKFwiL1wiKTtcbiAgICAgICAgLy8gICB9XG4gICAgICAgIC8vIH0sIDMwMDApXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZ2V0UmVzcG9uc2UgPSBhc3luYyAoKSA9PiB7XG4gICAgbGV0IGRhdGEgPSB7XG4gICAgICB1c2VybmFtZTogdGhpcy5zdGF0ZS51c2VyX25hbWUsXG4gICAgICBwYXNzd29yZDogdGhpcy5zdGF0ZS5wYXNzd29yZCxcbiAgICB9O1xuXG4gICAgX3JlcXVlc3RUb1NlcnZlcihcbiAgICAgIFBPU1QsXG4gICAgICBkYXRhLFxuICAgICAgYXV0aFVzZXJQYXNzd29yZCxcbiAgICAgIEFVVEhfSE9TVCxcbiAgICAgIGxvZ2luSGVhZGVycyxcbiAgICAgIG51bGwsXG4gICAgICBmYWxzZVxuICAgIClcbiAgICAgIC50aGVuKChyZXMpID0+IHtcbiAgICAgICAgaWYgKHJlcykge1xuICAgICAgICAgIHRoaXMuX2xvZ2luQWN0aW9uKHJlcylcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICAgIC5maW5hbGx5KCgpID0+IHtcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGxvYWRpbmc6IGZhbHNlIH0pO1xuICAgICAgICB9LCAxMDAwKTtcbiAgICAgIH0pO1xuICB9O1xuXG4gIHJlbmRlcigpIHtcbiAgICBsZXQgeyB1c2VyX25hbWUsIHBhc3N3b3JkLCBsb2FkaW5nIH0gPSB0aGlzLnN0YXRlO1xuICAgIGxldCB7IG1vYmlsZSB9ID0gdGhpcy5wcm9wcztcbiAgICByZXR1cm4gKFxuICAgICAgPExheW91dCBkaXNhYmxlRm9vdGVyRGF0YT17ZmFsc2V9PlxuICAgICAgICB7LyogPGZvcm0+ICovfVxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImxvZ2luLWNvbnRlbnRcIj5cbiAgICAgICAgICA8Q29sXG4gICAgICAgICAgICB4cz17bW9iaWxlID8gMjQgOiAxMn1cbiAgICAgICAgICAgIHNtPXttb2JpbGUgPyAyNCA6IDEyfVxuICAgICAgICAgICAgbWQ9e21vYmlsZSA/IDI0IDogMTJ9XG4gICAgICAgICAgICBsZz17bW9iaWxlID8gMjQgOiAxMH1cbiAgICAgICAgICAgIHhsPXttb2JpbGUgPyAyNCA6IDEwfVxuICAgICAgICAgICAgeHhsPXttb2JpbGUgPyAyNCA6IDEwfVxuICAgICAgICAgID5cblxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJsb2dpbi1mb3JtXCI+XG4gICAgICAgICAgICAgIDxMYXp5TG9hZEltYWdlIHNyYz17bG9nb30gYWx0PVwibG9nb1wiIHdpZHRoPVwiMjQwXCIgaGVpZ2h0PVwiODBcIiAvPlxuICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0aXRsZSBhX2NcIiBzdHlsZT17eyBmb250V2VpZ2h0OiA2MDAgfX0+XG4gICAgICAgICAgICAgICAgxJDEgk5HIE5I4bqsUFxuICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgIDxmb3JtPlxuICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm5vbWFsXCI+XG4gICAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJFbWFpbFwiXG4gICAgICAgICAgICAgICAgICAgIHByZWZpeD17XG4gICAgICAgICAgICAgICAgICAgICAgPEljb24gdHlwZT1cIm1haWxcIiBzdHlsZT17eyBjb2xvcjogXCJyZ2JhKDAsMCwwLC4yNSlcIiB9fSAvPlxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHN1ZmZpeD17XG4gICAgICAgICAgICAgICAgICAgICAgPFRvb2x0aXAgdGl0bGU9XCJFbWFpbCBj4bunYSBi4bqhblwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPEljb25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cImluZm8tY2lyY2xlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgY29sb3I6IFwicmdiYSgwLDAsMCwuNDUpXCIgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgPC9Ub29sdGlwPlxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlPXt1c2VyX25hbWV9XG4gICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLmhhbmRsZVVzZXJuYW1lfVxuICAgICAgICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiXG4gICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJub21hbFwiPlxuICAgICAgICAgICAgICAgICAgPElucHV0LlBhc3N3b3JkXG4gICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiUGFzc3dvcmRcIlxuICAgICAgICAgICAgICAgICAgICBwcmVmaXg9e1xuICAgICAgICAgICAgICAgICAgICAgIDxJY29uIHR5cGU9XCJsb2NrXCIgc3R5bGU9e3sgY29sb3I6IFwicmdiYSgwLDAsMCwuMjUpXCIgfX0gLz5cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBzdWZmaXg9e1xuICAgICAgICAgICAgICAgICAgICAvLyAgICAgPFRvb2x0aXAgdGl0bGU9XCLEkGnhu4FuIMSRw7puZyBt4bqtdCBraOG6qXVcIj5cbiAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICA8SWNvbiB0eXBlPVwiaW5mby1jaXJjbGVcIiBzdHlsZT17eyBjb2xvcjogJ3JnYmEoMCwwLDAsLjQ1KScgfX0gLz5cbiAgICAgICAgICAgICAgICAgICAgLy8gICAgIDwvVG9vbHRpcD5cbiAgICAgICAgICAgICAgICAgICAgLy8gfVxuICAgICAgICAgICAgICAgICAgICB2YWx1ZT17cGFzc3dvcmR9XG4gICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLmhhbmRsZVBhc3N3b3JkfVxuICAgICAgICAgICAgICAgICAgICBvblByZXNzRW50ZXI9e3RoaXMuX2NyZWF0ZVJlc3BvbnNlfVxuICAgICAgICAgICAgICAgICAgICB0eXBlPVwicGFzc3dvcmRcIlxuICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwiZm9nb3QtcGFzc3dvcmQgYV9yXCI+XG4gICAgICAgICAgICAgICAgICA8YSBocmVmPVwiL2ZvcmdvdC1wYXNzd29yZFwiIHN0eWxlPXt7IGNvbG9yOiBcImdyYXlcIiB9fT5cbiAgICAgICAgICAgICAgICAgICAgUXXDqm4gbeG6rXQga2jhuql1ID9cbiAgICAgICAgICAgICAgICAgIDwvYT5cbiAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgPHA+XG4gICAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0bi1sb2dpblwiXG4gICAgICAgICAgICAgICAgICAgIHR5cGU9XCJwcmltYXJ5XCJcbiAgICAgICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5fY3JlYXRlUmVzcG9uc2V9XG4gICAgICAgICAgICAgICAgICAgIGJsb2NrXG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIHtsb2FkaW5nID8gPEljb24gdHlwZT1cImxvYWRpbmdcIiAvPiA6IFwixJDEg25nIG5o4bqtcFwifVxuICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgIHsvKiA8cD5cbiAgICAgICAgICAgICAgICAgIDxsYWJlbD5ob+G6t2M8L2xhYmVsPlxuICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJhX2NcIj5cbiAgICAgICAgICAgICAgICAgIDxGYWNlYm9va1Byb3ZpZGVyXG4gICAgICAgICAgICAgICAgICAgIGFwcElkPVwiMTg0MTc5NTA5NjkxNTYxXCJcbiAgICAgICAgICAgICAgICAgICAgdmVyc2lvbj0ndjguMCdcbiAgICAgICAgICAgICAgICAgICAgY29va2llPXt0cnVlfVxuICAgICAgICAgICAgICAgICAgICB4ZmJtbD17dHJ1ZX1cbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgPExvZ2luQnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgc2NvcGU9XCJlbWFpbFwiXG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZmItbG9naW4tYnRuIGJ0bi1sb2dpbiBhX2xcIlxuXG4gICAgICAgICAgICAgICAgICAgICAgb25Db21wbGV0ZWQ9e3RoaXMub25Mb2dpbkZCfVxuICAgICAgICAgICAgICAgICAgICAgIG9uRXJyb3I9e3RoaXMuaGFuZGxlRXJyb3J9XG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICA8SWNvbiB0eXBlPVwiZmFjZWJvb2tcIiAvPsSQxINuZyBuaOG6rXAgduG7m2kgZmFjZWJvb2tcbiAgICAgICAgICAgICAgICAgICAgPC9Mb2dpbkJ1dHRvbj5cbiAgICAgICAgICAgICAgICAgIDwvRmFjZWJvb2tQcm92aWRlcj5cbiAgICAgICAgICAgICAgICA8L3A+ICovfVxuICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cImFfY1wiPlxuICAgICAgICAgICAgICAgICAgQuG6oW4gY2jGsGEgY8OzIHTDoGkga2hv4bqjbiA/e1wiIFwifVxuICAgICAgICAgICAgICAgICAgPGxhYmVsXG4gICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IGdvQmFja1doZW5Mb2dpbmVkKFwicmVnaXN0ZXJcIil9XG4gICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IGNvbG9yOiBcIiNmYjQxNDFcIiB9fVxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICA8Yj7EkMSDbmcga8O9PC9iPlxuICAgICAgICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgIDwvZm9ybT5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvQ29sPlxuICAgICAgICAgIDxDb2xcbiAgICAgICAgICAgIHhzPXttb2JpbGUgPyAwIDogMH1cbiAgICAgICAgICAgIHNtPXttb2JpbGUgPyAwIDogMH1cbiAgICAgICAgICAgIG1kPXttb2JpbGUgPyAwIDogMTJ9XG4gICAgICAgICAgICBsZz17bW9iaWxlID8gMCA6IDE0fVxuICAgICAgICAgICAgeGw9e21vYmlsZSA/IDAgOiAxNH1cbiAgICAgICAgICAgIHh4bD17bW9iaWxlID8gMCA6IDE0fVxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxMYXp5TG9hZEltYWdlIGFsdD1cIsSQxINuZyBuaOG6rXAgdMOsbSB2aeG7h2NcIiBzcmM9e2ltYWdlTG9naW59IGNsYXNzTmFtZT1cImltYWdlLWxvZ2luXCIgLz5cbiAgICAgICAgICA8L0NvbD5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgey8qIDwvZm9ybT4gKi99XG4gICAgICA8L0xheW91dCA+XG4gICAgKTtcbiAgfVxufVxuXG5jb25zdCBtYXBTdGF0ZVRvUHJvcHMgPSAoc3RhdGUpID0+IHtcbiAgcmV0dXJuIHtcbiAgICBwcm9wOiBzdGF0ZS5wcm9wLFxuICAgIG1vYmlsZTogc3RhdGUuTW9iaWxlU3RhdGUuaXNNb2JpbGUsXG4gIH07XG59O1xuXG5jb25zdCBtYXBEaXNwYXRjaFRvUHJvcHMgPSAoZGlzcGF0Y2gpID0+IHtcbiAgcmV0dXJuIHtcbiAgICBvcGVuUG9wdXA6IChkYXRhKSA9PiBkaXNwYXRjaCh7IHR5cGU6IFJFRFVYLlBPUFVQLk9QRU5fUE9QVVAsIGRhdGEgfSksXG4gICAgc2V0QXV0aGVuOiAoKSA9PiBkaXNwYXRjaCh7IHR5cGU6IFJFRFVYLkFVVEhFTi5FWEFDVF9BVVRIRU4gfSksXG4gIH07XG59O1xuXG5leHBvcnQgZGVmYXVsdCBjb25uZWN0KG1hcFN0YXRlVG9Qcm9wcywgbWFwRGlzcGF0Y2hUb1Byb3BzKShMb2dpbik7XG4iLCJleHBvcnQgZGVmYXVsdCBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiN2RiZGU1ODBhYzliYWYwNDcwZTZhYzU5MTQxMmQ3MGEucG5nXCI7IiwiZXhwb3J0IGRlZmF1bHQgX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcImE4ODBkNDc5ZGU0YmY5ZjhlMjc3Y2IzMzBkZGUzNWI0LnBuZ1wiOyJdLCJzb3VyY2VSb290IjoiIn0=